package admin;
import java.sql.*;
import java.awt.Color;
import java.awt.Font;
import java.awt.event.*;  
import javax.swing.*;    
public class AddItem {  
	public static void main (String[]args) {
	    new AddItem();
	}
	
	public  AddItem() 
	{
		 JFrame f=new JFrame("GoGreen"); 
		    JLabel l1,l2,l3,l4;  
		    f.getContentPane().setBackground(Color.CYAN);
		    final JTextField tf=new JTextField();
		    final JTextArea tf2=new JTextArea();
		    final JTextArea tf3=new JTextArea();
		    final JTextArea tf4=new JTextArea();
		    JLabel jl=new JLabel();
		    jl.setText("Add Product ");
		    jl.setBounds(120,15,300,30);
		    jl.setFont(new Font("Verdana", Font.BOLD ,18));
		    jl.setForeground(Color.BLACK);
		    tf.setBounds(170,70, 150,25); 
		    tf2.setBounds(170,120,150,50); 
		    tf3.setBounds(170,195,150,30);
		    tf4.setBounds(170,245,150,30);
		    l1=new JLabel("Product");  
	        l1.setBounds(40,70,300,30);
	        l1.setFont(new Font("Verdana", Font.BOLD ,15)); 
	        l2=new JLabel("Description");
	        l2.setBounds(40,120,300,30);
	        l2.setFont(new Font("Verdana", Font.BOLD ,15)); 
	        l3=new JLabel("Quantity");  
	        l3.setBounds(40,195,300,30);
	        l3.setFont(new Font("Verdana", Font.BOLD ,15));
	        l4=new JLabel("Price");  
	        l4.setBounds(40,245,300,30);
	        l4.setFont(new Font("Verdana", Font.BOLD ,15));
		    JButton b4=new JButton("ENTER");
		    JButton b5=new JButton("CLEAR");
		    JButton b6=new JButton("Home");

		   
		    b4.setBounds(75,290,85,30);
		    b5.setBounds(190,290,85,30);  
		    b6.setBounds(130,325,85,30); 

		 b4.addActionListener(new ActionListener(){  
		public void actionPerformed(ActionEvent e){  
		            try{
		            	Connection conn = null;
	            	    PreparedStatement pst = null;
		            	Class.forName("com.mysql.jdbc.Driver");
		            	
						Connection con=DriverManager.getConnection(  
		            			"jdbc:mysql://localhost:3306/smarketdb","root","#Root123");
						
						// Create table if not exist
						Statement st = con.createStatement();
						st.executeUpdate(
						    "CREATE TABLE IF NOT EXISTS itemlist (" +
						    "id INT AUTO_INCREMENT PRIMARY KEY," +
						    "Productname VARCHAR(255)," +
						    "Description TEXT," +
						    "Quantity INT," +
						    "Price DOUBLE)"
						);
						
		            	String sql = "insert into itemlist(Productname, Description, Quantity,Price) values(?,?,?,?)";
		                pst = con.prepareStatement(sql);
		                pst.setString(1, tf.getText());
		                pst.setString(2, tf2.getText());
		                pst.setString(3, tf3.getText());
		                pst.setString(4, tf4.getText());
		                pst.execute();
		     
		                JOptionPane.showMessageDialog(b4," Product added successfully", "Adding Item!", 1);
		            }catch(Exception e1){
		               // JOptionPane.showMessageDialog(null, e);
		            }
		            Object CLEAR = null;
					if (e.getSource() == CLEAR) {
		                l1.setText("");
		                l2.setText("");
		                l3.setText("");
		                l4.setText("");
		            }
		        }  
		    });  
		 b5.addActionListener(new ActionListener(){  
				public void actionPerformed(ActionEvent e){  
					tf.setText("");
					tf2.setText("");
					tf3.setText("");
					tf4.setText("");
				        }  
				    });
		 b6.addActionListener(new ActionListener(){  
				public void actionPerformed(ActionEvent e){  
					 f.dispose();
					Admin master=new Admin();
					master.Admin();
				        }  
				    });
		    f.add(l1);f.add(tf); 
		    f.add(l2);
		    f.add(l3);
		    f.add(l4);f.add(b4);f.add(b5); 
		    f.add(tf2);f.add(tf3);f.add(tf4);f.add(jl);
		    f.add(b6);
		    f.setSize(400,400);  
		    f.setLayout(null);  
		    f.setVisible(true);
		    f.setResizable(false);
		
	}
	
	}