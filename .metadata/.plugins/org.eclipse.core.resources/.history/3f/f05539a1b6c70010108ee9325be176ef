package admin;
import java.sql.*;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.util.Scanner;
import java.awt.Color;
import java.awt.Font;
import java.awt.event.*;  
import javax.swing.*;    
public class Deleteitem {  
    public static void main(String[] args) { 
    	new Deleteitem();
    }
    public Deleteitem() {
    JFrame f=new JFrame("Gogreen");  
    final JTextField tf=new JTextField();
  
    JLabel jl=new JLabel();
    JLabel jl1=new JLabel();
  
    jl.setText("Remove Product ");
    jl.setBounds(105,30,300,30);
    jl.setFont(new Font("Verdana", Font.BOLD ,18));
    jl.setForeground(Color.BLACK);
    jl1.setText("Product name");
    jl1.setBounds(40,100,180,30);
    jl1.setFont(new Font("Verdana", Font.BOLD ,15));
   
    tf.setBounds(170,100,180,30); 

    
    JButton b4=new JButton("ENTER");
    JButton b5=new JButton("CLEAR");
    JButton b6=new JButton("Home");

      b4.setBounds(85,225,85,30);
    b5.setBounds(190,225,85,30);
    b6.setBounds(135,295,85,30); 

 

 b4.addActionListener(new ActionListener(){  
public void actionPerformed(ActionEvent e){  
	try{
    	Connection conn = null;
	    PreparedStatement pst = null;
    	Class.forName("com.mysql.jdbc.Driver");
    	
		Connection con=DriverManager.getConnection(  
    			"jdbc:mysql://localhost:3306/smarketdb","root","#Root123");
    	String sql = "Delete from itemlist where Productname= ?";
        pst = con.prepareStatement(sql);
        pst.setString(1, tf.getText());
        pst.execute();

        JOptionPane.showMessageDialog(b4," Product Deleted successfully", "Delete Item!", 1);
    }catch(Exception e1){
       // JOptionPane.showMessageDialog(null, e);
    }
        }  
    });  

 b5.addActionListener(new ActionListener(){  
public void actionPerformed(ActionEvent e){  
	 tf.setText("");  
	
        }  
    });   
 b6.addActionListener(new ActionListener(){  
		public void actionPerformed(ActionEvent e){  
			 f.dispose();
			Admin master=new Admin();
			master.Admin();
		        }  
		    });
    f.add(jl1);f.add(tf); 
   f.add(b5); f.add(b6);

    f.add(jl);
    f.add(b4);
    f.setSize(400,400); 
    f.getContentPane().setBackground(Color.CYAN);
    f.setLayout(null);  
    f.setVisible(true);  
    f.setResizable(false);


	/*	try{  
			Class.forName("com.mysql.cj.jdbc.Driver");  
			Connection con=DriverManager.getConnection(  
			"jdbc:mysql://localhost:3306/smarketdb","root","root");
			
			String SQL_INSERT = "delete from itemlist where Id=?";
			  PreparedStatement preparedStatement = con.prepareStatement(SQL_INSERT);

		            preparedStatement.setInt(1,id);

		            int row = preparedStatement.executeUpdate();  
			if(row>0)
			{
				System.out.println("Items Deleted successfully");
			}
			else
			{
				System.out.println("something went wrong!!!");
			}
			con.close();  
			}catch(Exception e){ System.out.println(e);} 
		}*/


		}

	public void Deleteitem() {
		// TODO Auto-generated method stub
		
	}
	}


